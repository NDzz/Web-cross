<template>
    <Page class="page">
        <ActionBar title="My Transactions" class="action-bar" />

        <TabView height="100%">

            <TabViewItem title="Income Info">
                <StackLayout orientation="vertical" width="100%" height="100%">
                    <GridLayout columns="2*" rows="100, 100,100">
                        <TextField col="0" row="0" v-model="textFieldValue"
                            hint="Type name of Income" editable="true"
                            @returnPress="onButtonTap" />
                        <TextField col="0" row="1" v-model="textFieldValue"
                            hint="Insert amount of Income" editable="true"
                            keyboardType="phone" @returnPress="onButtonTap" />

                        <Button col="0" row="2" text="Add" @tap="onButtonTap" />
                    </GridLayout>
                    <ListView class="list-group" for="todo in expense"
                        @itemTap="onItemTap" style="height:75%">
                        <v-template>
                            <Label :text="todo.name" class="list-group-item-heading"
                                textWrap="true" />
                        </v-template>
                    </ListView>
                </StackLayout>
            </TabViewItem>

            <TabViewItem title="Expense Entry">
                <StackLayout orientation="vertical" width="100%" height="100%">

                    <GridLayout columns="2*" rows="100, 100,100">
                        <TextField col="0" row="0" v-model="textFieldValue"
                            hint="Type name of expense" editable="true"
                            @returnPress="onButtonTap" />
                        <TextField col="0" row="1" v-model="textFieldValue"
                            hint="Insert amount of expense" editable="true"
                            keyboardType="phone" @returnPress="onButtonTap" />

                        <Button col="0" row="2" text="Add" @tap="onButtonTap" />
                    </GridLayout>

                </StackLayout>
            </TabViewItem>

            <TabViewItem title="Expense List">
                <ListView class="list-group" for="todo in expense" @itemTap="onItemTap"
                    style="height:75%">
                    <v-template>
                        <Label :text="todo.name" class="list-group-item-heading"
                            textWrap="true" />
                    </v-template>
                </ListView>
            </TabViewItem>
        </TabView>
    </Page>
</template>

<script>
    export default {
        methods: {
            // onItemTap: function(args) {
            //     console.log("Item with index: " + args.index + " tapped");
            // },

            onButtonTap() {
                // console.log("New task added: " + this.textFieldValue + "."); // Logs the newly added task in the console for debugging.
                this.expense.unshift({
                    name: this.textFieldValue
                });

                this.textFieldValue = ""; // Clears the text field so that users can start adding new tasks immediately.
            }
        },

        data() {
            return {
                expense: [],
                income: [],
                textFieldValue: ""
            };
        }
    };
</script>

<style scoped>
    .home-panel {
        vertical-align: center;
        font-size: 20;
        margin: 15;
    }

    .description-label {
        margin-bottom: 15;
    }
</style>